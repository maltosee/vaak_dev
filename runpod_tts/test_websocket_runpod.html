<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebSocket Test</title>
</head>
<body>
    <h1>WebSocket Test</h1>
    <p>Check the browser's developer console (F12) for WebSocket messages.</p>
    <button id="pingButton">Send Ping</button>

    <script>
        // Replace with your RunPod WebSocket URL
        const wsUrl = 'wss://igup6ckd9ogz84.runpod.io/client/a48a75ca-ec38-4429-b44b-15b3be3bacd5';
        let ws;

        function connectWebSocket() {
            ws = new WebSocket(wsUrl);

            ws.onopen = (event) => {
                console.log('WebSocket connection opened:', event);
                document.getElementById('status').textContent = 'Connected';
            };

            ws.onmessage = (event) => {
                console.log('Message received:', event.data);
                // You can add logic here to handle different message types
            };

            ws.onclose = (event) => {
                console.log('WebSocket connection closed:', event);
                document.getElementById('status').textContent = 'Disconnected';
            };

            ws.onerror = (event) => {
                console.error('WebSocket error:', event);
                document.getElementById('status').textContent = 'Error';
            };
        }

        document.getElementById('pingButton').addEventListener('click', () => {
            if (ws && ws.readyState === WebSocket.OPEN) {
                const message = {
                    type: 'ping'
                };
                ws.send(JSON.stringify(message));
                console.log('Sent message:', message);
            } else {
                console.warn('WebSocket is not connected. Please refresh the page to try and connect.');
            }
        });

        // Initial connection attempt on page load
        connectWebSocket();
    </script>
    <p>Status: <span id="status">Connecting...</span></p>
</body>
</html>